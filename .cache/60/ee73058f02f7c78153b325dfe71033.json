{"id":"../../node_modules/phaser/src/renderer/webgl/pipelines/components/ModelViewProjection.js","dependencies":[{"name":"C:\\Users\\Admin\\Desktop\\pmm\\package.json","includedInParent":true,"mtime":1560952935180},{"name":"C:\\Users\\Admin\\Desktop\\pmm\\node_modules\\phaser\\package.json","includedInParent":true,"mtime":1561134727120}],"generated":{"js":"/**\r\n * @author       Richard Davey <rich@photonstorm.com>\r\n * @copyright    2019 Photon Storm Ltd.\r\n * @license      {@link https://opensource.org/licenses/MIT|MIT License}\r\n */\r\n\r\n/**\r\n * Implements a model view projection matrices.\r\n * Pipelines can implement this for doing 2D and 3D rendering.\r\n *\r\n * @namespace Phaser.Renderer.WebGL.Pipelines.ModelViewProjection\r\n * @since 3.0.0\r\n */\r\nvar ModelViewProjection = {\r\n\r\n    /**\r\n     * Dirty flag for checking if model matrix needs to be updated on GPU.\r\n     * \r\n     * @name Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#modelMatrixDirty\r\n     * @type {boolean}\r\n     * @since 3.0.0\r\n     */\r\n    modelMatrixDirty: false,\r\n\r\n    /**\r\n     * Dirty flag for checking if view matrix needs to be updated on GPU.\r\n     * \r\n     * @name Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewMatrixDirty\r\n     * @type {boolean}\r\n     * @since 3.0.0\r\n     */\r\n    viewMatrixDirty: false,\r\n\r\n    /**\r\n     * Dirty flag for checking if projection matrix needs to be updated on GPU.\r\n     * \r\n     * @name Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#projectionMatrixDirty\r\n     * @type {boolean}\r\n     * @since 3.0.0\r\n     */\r\n    projectionMatrixDirty: false,\r\n\r\n    /**\r\n     * Model matrix\r\n     * \r\n     * @name Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#modelMatrix\r\n     * @type {?Float32Array}\r\n     * @since 3.0.0\r\n     */\r\n    modelMatrix: null,\r\n\r\n    /**\r\n     * View matrix\r\n     * \r\n     * @name Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewMatrix\r\n     * @type {?Float32Array}\r\n     * @since 3.0.0\r\n     */\r\n    viewMatrix: null,\r\n\r\n    /**\r\n     * Projection matrix\r\n     * \r\n     * @name Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#projectionMatrix\r\n     * @type {?Float32Array}\r\n     * @since 3.0.0\r\n     */\r\n    projectionMatrix: null,\r\n\r\n    /**\r\n     * Initializes MVP matrices with an identity matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#mvpInit\r\n     * @since 3.0.0\r\n     */\r\n    mvpInit: function ()\r\n    {\r\n        this.modelMatrixDirty = true;\r\n        this.viewMatrixDirty = true;\r\n        this.projectionMatrixDirty = true;\r\n        \r\n        this.modelMatrix = new Float32Array([\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 0, 0, 1\r\n        ]);\r\n        \r\n        this.viewMatrix = new Float32Array([\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 0, 0, 1\r\n        ]);\r\n        \r\n        this.projectionMatrix = new Float32Array([\r\n            1, 0, 0, 0,\r\n            0, 1, 0, 0,\r\n            0, 0, 1, 0,\r\n            0, 0, 0, 1\r\n        ]);\r\n        \r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * If dirty flags are set then the matrices are uploaded to the GPU.\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#mvpUpdate\r\n     * @since 3.0.0\r\n     */\r\n    mvpUpdate: function ()\r\n    {\r\n        var program = this.program;\r\n\r\n        if (this.modelMatrixDirty)\r\n        {\r\n            this.renderer.setMatrix4(program, 'uModelMatrix', false, this.modelMatrix);\r\n            this.modelMatrixDirty = false;\r\n        }\r\n        \r\n        if (this.viewMatrixDirty)\r\n        {\r\n            this.renderer.setMatrix4(program, 'uViewMatrix', false, this.viewMatrix);\r\n            this.viewMatrixDirty = false;\r\n        }\r\n\r\n        if (this.projectionMatrixDirty)\r\n        {\r\n            this.renderer.setMatrix4(program, 'uProjectionMatrix', false, this.projectionMatrix);\r\n            this.projectionMatrixDirty = false;\r\n        }\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Loads an identity matrix to the model matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#modelIdentity\r\n     * @since 3.0.0\r\n     */\r\n    modelIdentity: function ()\r\n    {\r\n        var modelMatrix = this.modelMatrix;\r\n        \r\n        modelMatrix[0] = 1;\r\n        modelMatrix[1] = 0;\r\n        modelMatrix[2] = 0;\r\n        modelMatrix[3] = 0;\r\n        modelMatrix[4] = 0;\r\n        modelMatrix[5] = 1;\r\n        modelMatrix[6] = 0;\r\n        modelMatrix[7] = 0;\r\n        modelMatrix[8] = 0;\r\n        modelMatrix[9] = 0;\r\n        modelMatrix[10] = 1;\r\n        modelMatrix[11] = 0;\r\n        modelMatrix[12] = 0;\r\n        modelMatrix[13] = 0;\r\n        modelMatrix[14] = 0;\r\n        modelMatrix[15] = 1;\r\n\r\n        this.modelMatrixDirty = true;\r\n        \r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Scale model matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#modelScale\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} x - The x component.\r\n     * @param {number} y - The y component.\r\n     * @param {number} z - The z component.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    modelScale: function (x, y, z)\r\n    {\r\n        var modelMatrix = this.modelMatrix;\r\n\r\n        modelMatrix[0] = modelMatrix[0] * x;\r\n        modelMatrix[1] = modelMatrix[1] * x;\r\n        modelMatrix[2] = modelMatrix[2] * x;\r\n        modelMatrix[3] = modelMatrix[3] * x;\r\n        modelMatrix[4] = modelMatrix[4] * y;\r\n        modelMatrix[5] = modelMatrix[5] * y;\r\n        modelMatrix[6] = modelMatrix[6] * y;\r\n        modelMatrix[7] = modelMatrix[7] * y;\r\n        modelMatrix[8] = modelMatrix[8] * z;\r\n        modelMatrix[9] = modelMatrix[9] * z;\r\n        modelMatrix[10] = modelMatrix[10] * z;\r\n        modelMatrix[11] = modelMatrix[11] * z;\r\n    \r\n        this.modelMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Translate model matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#modelTranslate\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} x - The x component.\r\n     * @param {number} y - The y component.\r\n     * @param {number} z - The z component.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    modelTranslate: function (x, y, z)\r\n    {\r\n        var modelMatrix = this.modelMatrix;\r\n\r\n        modelMatrix[12] = modelMatrix[0] * x + modelMatrix[4] * y + modelMatrix[8] * z + modelMatrix[12];\r\n        modelMatrix[13] = modelMatrix[1] * x + modelMatrix[5] * y + modelMatrix[9] * z + modelMatrix[13];\r\n        modelMatrix[14] = modelMatrix[2] * x + modelMatrix[6] * y + modelMatrix[10] * z + modelMatrix[14];\r\n        modelMatrix[15] = modelMatrix[3] * x + modelMatrix[7] * y + modelMatrix[11] * z + modelMatrix[15];\r\n\r\n        this.modelMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Rotates the model matrix in the X axis.\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#modelRotateX\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} radians - The amount to rotate by.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    modelRotateX: function (radians)\r\n    {\r\n        var modelMatrix = this.modelMatrix;\r\n        var s = Math.sin(radians);\r\n        var c = Math.cos(radians);\r\n        var a10 = modelMatrix[4];\r\n        var a11 = modelMatrix[5];\r\n        var a12 = modelMatrix[6];\r\n        var a13 = modelMatrix[7];\r\n        var a20 = modelMatrix[8];\r\n        var a21 = modelMatrix[9];\r\n        var a22 = modelMatrix[10];\r\n        var a23 = modelMatrix[11];\r\n\r\n        modelMatrix[4] = a10 * c + a20 * s;\r\n        modelMatrix[5] = a11 * c + a21 * s;\r\n        modelMatrix[6] = a12 * c + a22 * s;\r\n        modelMatrix[7] = a13 * c + a23 * s;\r\n        modelMatrix[8] = a20 * c - a10 * s;\r\n        modelMatrix[9] = a21 * c - a11 * s;\r\n        modelMatrix[10] = a22 * c - a12 * s;\r\n        modelMatrix[11] = a23 * c - a13 * s;\r\n\r\n        this.modelMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Rotates the model matrix in the Y axis.\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#modelRotateY\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} radians - The amount to rotate by.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    modelRotateY: function (radians)\r\n    {\r\n        var modelMatrix = this.modelMatrix;\r\n        var s = Math.sin(radians);\r\n        var c = Math.cos(radians);\r\n        var a00 = modelMatrix[0];\r\n        var a01 = modelMatrix[1];\r\n        var a02 = modelMatrix[2];\r\n        var a03 = modelMatrix[3];\r\n        var a20 = modelMatrix[8];\r\n        var a21 = modelMatrix[9];\r\n        var a22 = modelMatrix[10];\r\n        var a23 = modelMatrix[11];\r\n\r\n        modelMatrix[0] = a00 * c - a20 * s;\r\n        modelMatrix[1] = a01 * c - a21 * s;\r\n        modelMatrix[2] = a02 * c - a22 * s;\r\n        modelMatrix[3] = a03 * c - a23 * s;\r\n        modelMatrix[8] = a00 * s + a20 * c;\r\n        modelMatrix[9] = a01 * s + a21 * c;\r\n        modelMatrix[10] = a02 * s + a22 * c;\r\n        modelMatrix[11] = a03 * s + a23 * c;\r\n\r\n        this.modelMatrixDirty = true;\r\n        \r\n        return this;\r\n    },\r\n    \r\n    /**\r\n     * Rotates the model matrix in the Z axis.\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#modelRotateZ\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} radians - The amount to rotate by.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    modelRotateZ: function (radians)\r\n    {\r\n        var modelMatrix = this.modelMatrix;\r\n        var s = Math.sin(radians);\r\n        var c = Math.cos(radians);\r\n        var a00 = modelMatrix[0];\r\n        var a01 = modelMatrix[1];\r\n        var a02 = modelMatrix[2];\r\n        var a03 = modelMatrix[3];\r\n        var a10 = modelMatrix[4];\r\n        var a11 = modelMatrix[5];\r\n        var a12 = modelMatrix[6];\r\n        var a13 = modelMatrix[7];\r\n\r\n        modelMatrix[0] = a00 * c + a10 * s;\r\n        modelMatrix[1] = a01 * c + a11 * s;\r\n        modelMatrix[2] = a02 * c + a12 * s;\r\n        modelMatrix[3] = a03 * c + a13 * s;\r\n        modelMatrix[4] = a10 * c - a00 * s;\r\n        modelMatrix[5] = a11 * c - a01 * s;\r\n        modelMatrix[6] = a12 * c - a02 * s;\r\n        modelMatrix[7] = a13 * c - a03 * s;\r\n\r\n        this.modelMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Loads identity matrix into the view matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewIdentity\r\n     * @since 3.0.0\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    viewIdentity: function ()\r\n    {\r\n        var viewMatrix = this.viewMatrix;\r\n        \r\n        viewMatrix[0] = 1;\r\n        viewMatrix[1] = 0;\r\n        viewMatrix[2] = 0;\r\n        viewMatrix[3] = 0;\r\n        viewMatrix[4] = 0;\r\n        viewMatrix[5] = 1;\r\n        viewMatrix[6] = 0;\r\n        viewMatrix[7] = 0;\r\n        viewMatrix[8] = 0;\r\n        viewMatrix[9] = 0;\r\n        viewMatrix[10] = 1;\r\n        viewMatrix[11] = 0;\r\n        viewMatrix[12] = 0;\r\n        viewMatrix[13] = 0;\r\n        viewMatrix[14] = 0;\r\n        viewMatrix[15] = 1;\r\n\r\n        this.viewMatrixDirty = true;\r\n        \r\n        return this;\r\n    },\r\n    \r\n    /**\r\n     * Scales view matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewScale\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} x - The x component.\r\n     * @param {number} y - The y component.\r\n     * @param {number} z - The z component.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    viewScale: function (x, y, z)\r\n    {\r\n        var viewMatrix = this.viewMatrix;\r\n\r\n        viewMatrix[0] = viewMatrix[0] * x;\r\n        viewMatrix[1] = viewMatrix[1] * x;\r\n        viewMatrix[2] = viewMatrix[2] * x;\r\n        viewMatrix[3] = viewMatrix[3] * x;\r\n        viewMatrix[4] = viewMatrix[4] * y;\r\n        viewMatrix[5] = viewMatrix[5] * y;\r\n        viewMatrix[6] = viewMatrix[6] * y;\r\n        viewMatrix[7] = viewMatrix[7] * y;\r\n        viewMatrix[8] = viewMatrix[8] * z;\r\n        viewMatrix[9] = viewMatrix[9] * z;\r\n        viewMatrix[10] = viewMatrix[10] * z;\r\n        viewMatrix[11] = viewMatrix[11] * z;\r\n    \r\n        this.viewMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Translates view matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewTranslate\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} x - The x component.\r\n     * @param {number} y - The y component.\r\n     * @param {number} z - The z component.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    viewTranslate: function (x, y, z)\r\n    {\r\n        var viewMatrix = this.viewMatrix;\r\n\r\n        viewMatrix[12] = viewMatrix[0] * x + viewMatrix[4] * y + viewMatrix[8] * z + viewMatrix[12];\r\n        viewMatrix[13] = viewMatrix[1] * x + viewMatrix[5] * y + viewMatrix[9] * z + viewMatrix[13];\r\n        viewMatrix[14] = viewMatrix[2] * x + viewMatrix[6] * y + viewMatrix[10] * z + viewMatrix[14];\r\n        viewMatrix[15] = viewMatrix[3] * x + viewMatrix[7] * y + viewMatrix[11] * z + viewMatrix[15];\r\n\r\n        this.viewMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n    \r\n    /**\r\n     * Rotates view matrix in the X axis.\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewRotateX\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} radians - The amount to rotate by.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    viewRotateX: function (radians)\r\n    {\r\n        var viewMatrix = this.viewMatrix;\r\n        var s = Math.sin(radians);\r\n        var c = Math.cos(radians);\r\n        var a10 = viewMatrix[4];\r\n        var a11 = viewMatrix[5];\r\n        var a12 = viewMatrix[6];\r\n        var a13 = viewMatrix[7];\r\n        var a20 = viewMatrix[8];\r\n        var a21 = viewMatrix[9];\r\n        var a22 = viewMatrix[10];\r\n        var a23 = viewMatrix[11];\r\n\r\n        viewMatrix[4] = a10 * c + a20 * s;\r\n        viewMatrix[5] = a11 * c + a21 * s;\r\n        viewMatrix[6] = a12 * c + a22 * s;\r\n        viewMatrix[7] = a13 * c + a23 * s;\r\n        viewMatrix[8] = a20 * c - a10 * s;\r\n        viewMatrix[9] = a21 * c - a11 * s;\r\n        viewMatrix[10] = a22 * c - a12 * s;\r\n        viewMatrix[11] = a23 * c - a13 * s;\r\n\r\n        this.viewMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n    \r\n    /**\r\n     * Rotates view matrix in the Y axis.\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewRotateY\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} radians - The amount to rotate by.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    viewRotateY: function (radians)\r\n    {\r\n        var viewMatrix = this.viewMatrix;\r\n        var s = Math.sin(radians);\r\n        var c = Math.cos(radians);\r\n        var a00 = viewMatrix[0];\r\n        var a01 = viewMatrix[1];\r\n        var a02 = viewMatrix[2];\r\n        var a03 = viewMatrix[3];\r\n        var a20 = viewMatrix[8];\r\n        var a21 = viewMatrix[9];\r\n        var a22 = viewMatrix[10];\r\n        var a23 = viewMatrix[11];\r\n\r\n        viewMatrix[0] = a00 * c - a20 * s;\r\n        viewMatrix[1] = a01 * c - a21 * s;\r\n        viewMatrix[2] = a02 * c - a22 * s;\r\n        viewMatrix[3] = a03 * c - a23 * s;\r\n        viewMatrix[8] = a00 * s + a20 * c;\r\n        viewMatrix[9] = a01 * s + a21 * c;\r\n        viewMatrix[10] = a02 * s + a22 * c;\r\n        viewMatrix[11] = a03 * s + a23 * c;\r\n\r\n        this.viewMatrixDirty = true;\r\n        \r\n        return this;\r\n    },\r\n    \r\n    /**\r\n     * Rotates view matrix in the Z axis.\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewRotateZ\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} radians - The amount to rotate by.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    viewRotateZ: function (radians)\r\n    {\r\n        var viewMatrix = this.viewMatrix;\r\n        var s = Math.sin(radians);\r\n        var c = Math.cos(radians);\r\n        var a00 = viewMatrix[0];\r\n        var a01 = viewMatrix[1];\r\n        var a02 = viewMatrix[2];\r\n        var a03 = viewMatrix[3];\r\n        var a10 = viewMatrix[4];\r\n        var a11 = viewMatrix[5];\r\n        var a12 = viewMatrix[6];\r\n        var a13 = viewMatrix[7];\r\n\r\n        viewMatrix[0] = a00 * c + a10 * s;\r\n        viewMatrix[1] = a01 * c + a11 * s;\r\n        viewMatrix[2] = a02 * c + a12 * s;\r\n        viewMatrix[3] = a03 * c + a13 * s;\r\n        viewMatrix[4] = a10 * c - a00 * s;\r\n        viewMatrix[5] = a11 * c - a01 * s;\r\n        viewMatrix[6] = a12 * c - a02 * s;\r\n        viewMatrix[7] = a13 * c - a03 * s;\r\n\r\n        this.viewMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Loads a 2D view matrix (3x2 matrix) into a 4x4 view matrix \r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewLoad2D\r\n     * @since 3.0.0\r\n     *\r\n     * @param {Float32Array} matrix2D - The Matrix2D.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    viewLoad2D: function (matrix2D)\r\n    {\r\n        var vm = this.viewMatrix;\r\n\r\n        vm[0] = matrix2D[0];\r\n        vm[1] = matrix2D[1];\r\n        vm[2] = 0.0;\r\n        vm[3] = 0.0;\r\n        vm[4] = matrix2D[2];\r\n        vm[5] = matrix2D[3];\r\n        vm[6] = 0.0;\r\n        vm[7] = 0.0;\r\n        vm[8] = matrix2D[4];\r\n        vm[9] = matrix2D[5];\r\n        vm[10] = 1.0;\r\n        vm[11] = 0.0;\r\n        vm[12] = 0.0;\r\n        vm[13] = 0.0;\r\n        vm[14] = 0.0;\r\n        vm[15] = 1.0;\r\n\r\n        this.viewMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n\r\n\r\n    /**\r\n     * Copies a 4x4 matrix into the view matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#viewLoad\r\n     * @since 3.0.0\r\n     *\r\n     * @param {Float32Array} matrix - The Matrix2D.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    viewLoad: function (matrix)\r\n    {\r\n        var vm = this.viewMatrix;\r\n\r\n        vm[0] = matrix[0];\r\n        vm[1] = matrix[1];\r\n        vm[2] = matrix[2];\r\n        vm[3] = matrix[3];\r\n        vm[4] = matrix[4];\r\n        vm[5] = matrix[5];\r\n        vm[6] = matrix[6];\r\n        vm[7] = matrix[7];\r\n        vm[8] = matrix[8];\r\n        vm[9] = matrix[9];\r\n        vm[10] = matrix[10];\r\n        vm[11] = matrix[11];\r\n        vm[12] = matrix[12];\r\n        vm[13] = matrix[13];\r\n        vm[14] = matrix[14];\r\n        vm[15] = matrix[15];\r\n\r\n        this.viewMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n    \r\n    /**\r\n     * Loads identity matrix into the projection matrix.\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#projIdentity\r\n     * @since 3.0.0\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    projIdentity: function ()\r\n    {\r\n        var projectionMatrix = this.projectionMatrix;\r\n        \r\n        projectionMatrix[0] = 1;\r\n        projectionMatrix[1] = 0;\r\n        projectionMatrix[2] = 0;\r\n        projectionMatrix[3] = 0;\r\n        projectionMatrix[4] = 0;\r\n        projectionMatrix[5] = 1;\r\n        projectionMatrix[6] = 0;\r\n        projectionMatrix[7] = 0;\r\n        projectionMatrix[8] = 0;\r\n        projectionMatrix[9] = 0;\r\n        projectionMatrix[10] = 1;\r\n        projectionMatrix[11] = 0;\r\n        projectionMatrix[12] = 0;\r\n        projectionMatrix[13] = 0;\r\n        projectionMatrix[14] = 0;\r\n        projectionMatrix[15] = 1;\r\n\r\n        this.projectionMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * Sets up an orthographic projection matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#projOrtho\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} left - The left value.\r\n     * @param {number} right - The right value.\r\n     * @param {number} bottom - The bottom value.\r\n     * @param {number} top - The top value.\r\n     * @param {number} near - The near value.\r\n     * @param {number} far - The far value.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    projOrtho: function (left, right, bottom, top, near, far)\r\n    {\r\n        var projectionMatrix = this.projectionMatrix;\r\n        var leftRight = 1.0 / (left - right);\r\n        var bottomTop = 1.0 / (bottom - top);\r\n        var nearFar = 1.0 / (near - far);\r\n\r\n        projectionMatrix[0] = -2.0 * leftRight;\r\n        projectionMatrix[1] = 0.0;\r\n        projectionMatrix[2] = 0.0;\r\n        projectionMatrix[3] = 0.0;\r\n        projectionMatrix[4] = 0.0;\r\n        projectionMatrix[5] = -2.0 * bottomTop;\r\n        projectionMatrix[6] = 0.0;\r\n        projectionMatrix[7] = 0.0;\r\n        projectionMatrix[8] = 0.0;\r\n        projectionMatrix[9] = 0.0;\r\n        projectionMatrix[10] = 2.0 * nearFar;\r\n        projectionMatrix[11] = 0.0;\r\n        projectionMatrix[12] = (left + right) * leftRight;\r\n        projectionMatrix[13] = (top + bottom) * bottomTop;\r\n        projectionMatrix[14] = (far + near) * nearFar;\r\n        projectionMatrix[15] = 1.0;\r\n\r\n        this.projectionMatrixDirty = true;\r\n\r\n        return this;\r\n    },\r\n    \r\n    /**\r\n     * Sets up a perspective projection matrix\r\n     * \r\n     * @method Phaser.Renderer.WebGL.Pipelines.ModelViewProjection#projPersp\r\n     * @since 3.0.0\r\n     *\r\n     * @param {number} fovY - The fov value.\r\n     * @param {number} aspectRatio - The aspectRatio value.\r\n     * @param {number} near - The near value.\r\n     * @param {number} far - The far value.\r\n     *\r\n     * @return {this} This Model View Projection.\r\n     */\r\n    projPersp: function (fovY, aspectRatio, near, far)\r\n    {\r\n        var projectionMatrix = this.projectionMatrix;\r\n        var fov = 1.0 / Math.tan(fovY / 2.0);\r\n        var nearFar = 1.0 / (near - far);\r\n        \r\n        projectionMatrix[0] = fov / aspectRatio;\r\n        projectionMatrix[1] = 0.0;\r\n        projectionMatrix[2] = 0.0;\r\n        projectionMatrix[3] = 0.0;\r\n        projectionMatrix[4] = 0.0;\r\n        projectionMatrix[5] = fov;\r\n        projectionMatrix[6] = 0.0;\r\n        projectionMatrix[7] = 0.0;\r\n        projectionMatrix[8] = 0.0;\r\n        projectionMatrix[9] = 0.0;\r\n        projectionMatrix[10] = (far + near) * nearFar;\r\n        projectionMatrix[11] = -1.0;\r\n        projectionMatrix[12] = 0.0;\r\n        projectionMatrix[13] = 0.0;\r\n        projectionMatrix[14] = (2.0 * far * near) * nearFar;\r\n        projectionMatrix[15] = 0.0;\r\n        \r\n        this.projectionMatrixDirty = true;\r\n\r\n        return this;\r\n    }\r\n};\r\n\r\nmodule.exports = ModelViewProjection;\r\n"},"sourceMaps":null,"error":null,"hash":"3817fa82d0d34ad6835d61ac01e5b404","cacheData":{"env":{}}}